# Format of the JSON configuration file of an experiment

The JSON which describes a latex table contains an array of dictionaries. Each dictionary either corresponds to:
* the parameters of the table;
* a row parameter;
* a column parameter;
* a group of columns.

The syntax of each dictionary is presented in the following and illustrated on the following table:
<p align="center">
    <img src="docs/images/knapsack.png" alt="Knapsack result table automatically generated by AutoExpe.jl" width="300"/>
</p>

The content of the JSON file used to describe the table above is available [here](./src/examples/knapsack/config/averagedTable.json).

## Table parameters (optional)

This dictionary  describes the general properties of the table. Here is the dictionary of the table parameters of the table above: 

    {"caption": "Knapsack results", "expandInstances": false, "leftVline": false, "rightVline": false, "vlineAfterRowParams": false, "hideInstanceExtension": true},
    
### List of the possible entries of this dictionary

### caption (mandatory)

Caption of the table (e.g., `"My caption."`).

#### maxRowsInATable (optional)

Integer which specifies the maximal number of lines in a table. It can be used to avoid tables which heigth is longer than the one of a page (default value: `30`).

#### leftVline (optional)
Boolean which is true if a vertical line is drawn on the left side of the table and false otherwise (default value: `true`).

#### rightVline (optional)
 Boolean which is true if a vertical line is drawn on the  right side of the table and false otherwise (default value: `true`).

#### vlineAfterRowParams (optional)
 Boolean which is true if a vertical line is drawn between the columns which represent the different row parameters (default value: `true`).

#### maxNonScientificValue (optional)
Integer equal to the greatest numerical values displayed in the table which is not represented using the scientific notation (default: `999999`, which means that 1000000 will be represented by 1E6).

#### expandInstances (optional)
Boolean which is true if the table displays the results of each instance; false if average results over all instances are computed (default: `false`).

#### hideInstancesExtension (optional)
When `expandInstances` is false, each row corresponds to results obtained for one instance and the table contains a column which indicates the name of the instance associated to each row. The boolean `hideInstancesExtension` is true if the extension of the instance files is not displayed.

The value of `hideInstancesExtension` is ignored if `expandInstances` is false.


## Row parameter

This dictionary  describes an entry saved in the result files which value will vary across the rows of the table (e.g. : <img src="https://render.githubusercontent.com/render/math?math=m"> and <img src="https://render.githubusercontent.com/render/math?math=K"> in the table above).

### List of the possible entries of this dictionary

#### rowParameterName (mandatory)
Name of the parameter as it appears in the result files. 

#### displayedName (optional)
Name of the parameter that will appear in the latex table (default value: value of `"rowParameterName"`).

#### indexes (optional)
If the parameter appears in an array of dimension D in the result files, this entry must be an array of D integers which specifies at which index of the array is the value of the row parameter.

For example, let assume that each result file contains an array named `t` which contains four values and that we are interested in the third value of this array. We can define the row parameter as follows:

    {"rowParameterName": "t", "indexes": [3]}

#### hline (optional)
Boolean which is true if a horizontal line is drawn between rows which have different values of the parameter (default value `false`).



## Column parameter

This dictionary describes one result column of the table. The *entries* displayed in a column can be obtained from
* only one *value* from the result files. In that case, the entry is directly read from the result files (e.g., if the column displays the resolution time of a method);
* several *values* from the result files. In that case, all required values are read from the result files and a function is applied to them (e.g., if the resolution time of two different methods must be read and the column displays their relative gap).

To identify a value in a result file, we must specify:
* its name in the result files;
* the resolution method used to obtain it.

### List of the possible entries of this dictionary

#### resolutionMethodName

Name of the resolution method used to obtain the values considered in this column. For example:

    "resolutionMethodName": "myMethod"

The name of the resolution method must be the same than in the experiment JSON file.

When several values are used to compute the entries of the column, these values may be associated to different resolution methods. In that case, the resolution methods can be specified in the dictionary entry `"columnParameters"`.


J'en suis l√†
#### columnParameters (mandatory)

Specifies the value(s) from the saved files used to obtain the value in a column. A value is characterized by:


* a string (e.g., `"objectiveValue"`);
* a dictionary with a key "name" (e.g., `{"name": "objectiveValue"});


The values displayed in a column of can directly corespond to a unique value in the result file (e.g.,: the resolution time) or computed from several values in the result file (e.g., if it is the max of two values). The entries required to compute the value of a column are specified in an array "columnParameters". Each element of this array corresponds to a value.

Each entry of the array columnParameters must contain a string "name" which correspond to the name of the entry in the result files. It can also contain an array of indexes (similarly to row parameters). It can also contain a string "method" which represent the name of the resolution method as specified in the experiment JSON file. If this field is not specified, the default value specified in the field "method" is used (the one defined in the column entry but outside of columnParameters).


* an entry `"name"`: which specifies the name of the column

The values displayed in a column of can directly corespond to a unique value in the result file (e.g.,: the resolution time) or computed from several values in the result file (e.g., if it is the max of two values). The entries required to compute the value of a column are specified in an array `"columnParameters"`. Each element of this array corresponds to a value.

Each entry of the array columnParameters must contain a string `"name"` which correspond to the name of the entry in the result files. It can also contain an array of indexes (similarly to row parameters). It can also contain a string `"method"` which represent the name of the resolution method as specified in the experiment JSON file. If this field is not specified, the default value specified in the field `"method"` is used (the one defined in the column entry but outside of columnParameters).

The other entries are optional:
* a boolean `"vline"`: true if a vertical line is drawn after this column (default value: `false`);
* a string `"function"`: represents the function used to compute the value in the column (e.g., `"gap"`, `"mean"`, ...).

* an integer `"digits"`: number of significant figures displayed (default: 2);
* a string `"suffix"`: string added after each entry of the column (e.g.: `"min"`, `"%"`, `"g"`, ...);
* a string `"prefix"`: string added before each entry of the column (e.g.: `"min"`, `"%"`, `"g"`, ...);
* a boolean `"ignoreBold"`: used when the column is in a group, true if the value in the column are ignored when computing the best value of the group.

Donner un exemple.


#### caption (mandatory)

Caption of the table (e.g., `"My caption."`).



## Group of columns

This dictionary  describes the general properties of the table.

### List of the possible entries of this dictionary

The other entries are optional:
* boolean `"vlineAfter"`: true if a vertical line must be drawn after the group (default value: `false`);
* boolean `"highlightBestValue"`: true if the best value of the groupe must appear in bold (default value: `false`);
* boolean `"isBestValueMinimal"`: true if the best value of the group is the lowest one; false if it is the highest one (default value: `true`).

Note that to use latex mathematical notations in the JSON file of a table (e.g.: in the displayed name of a column), you need put the expression between dollars and replace any backslash by two backslashes (e.g. : `$\\alpha$`).


#### caption (mandatory)

Caption of the table (e.g., `"My caption."`).

